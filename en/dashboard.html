<!DOCTYPE html>
<html>
<head>
<title>Dashboard</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=10.0, user-scalable=yes">
<link href="../style.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="/jquery/jquery-latest.js"></script>
<script type="text/javascript">
$(document).ready(function() {
	if (navigator.userAgent.match(/(iPod|iPhone|iPad)/)) {
		$(".android").hide();
		$(".apple").show();
	}
	$("img.thumb").click(function() {
		$("img.thumb").show().next("img.large").hide();
		$(this).hide();
		$(this).next("img.large").fadeIn();
	});
	$("img.large").click(function() {
		$(this).hide();
		$(this).prev("img.thumb").show();
	});
});
</script>
</head>
<body>
<h1>Dashboard</h1>
<p>In addition to the “Messages” view the app offers a “Dashboard” view
with graphical user interface. It allows creating display and control
elements (so-called “dashes”), e.g. temperature display, light control
switches, alarms, and more.</p>
<div class="note">
<h6>Note:</h6>
<p>Immediately after selecting a list entry of a push server account, you are taken to
either the “Dashboard” or “Messages” view. This depends on what you had selected last.
You can switch to the other view by tapping on <span class="android"> the <img
src="../img/messages_icon.png" height="16"> or <img src="../img/dashboard_icon.png"
height="16"> icon in the navigation bar.</span>
<span class="apple"><img src="../img/overflow_iOS.png" height="16">
and selecting <span class="iOS">Messages</span> or <span class="iOS">Dashboard</span>.</span></p>
</div>
<ul class="instruction">
<li>After starting the app tap on the list entry of the desired push server
account.</li>
<li>Then, in the “Messages” window, tap on <span class="android"> the <img
src="../img/dashboard_icon.png" height="16"> icon.</span><span class="apple"><img
src="../img/overflow_iOS.png" height="16"> and select <span class="iOS">Dashboard</span>.</span></li>
</ul>
<p>Now you are in the “Dashboard“ mode.</p>
<div class="android">
<p><img class="thumb" src="../img/dashboard_view.png" width="275">
<img class="large" src="../img/dashboard_view.png"></p>
</div>
<div class="apple">
<p><img class="thumb" src="../img/dashboard_view_iOS.png" width="275">
<img class="large" src="../img/dashboard_view_iOS.png"></p>
</div>
<ul class="instruction">
<li><span class="android">Tap on the <img src="../img/plus_icon.png"
height="16"> icon.</span></span><span class="apple">Again tap on the <img
src="../img/overflow_iOS.png" height="16"> icon and select the <span class="iOS">Edit Dashboard</span>
entry.</span></li>
<div class="apple">
<li>Tap on the <img src="../img/plus_icon_iOS.png" height="16"> icon.</li>
</div>
</ul>
<p>A pop-up menu provides several dash templates for various purposes, which
offer a good base for creating own solutions.</p>
<div class="android">
<p><img class="thumb_noreplace" src="../img/dashboard.png" width="175"></p>
</div>
<div class="apple">
<p><img class="thumb_noreplace" src="../img/dashboard_iOS.png" width="250"></p>
</div>
<table border="1">
<tr>
<th>Dash</th><th>Explanation</th>
</tr>
<tr>
<td><em>Text View</em></td><td>Allows displaying messages in text form and
entering values. See the <a href="#textview">Text&nbsp;View</a> section</td>
</tr>
<tr>
<td><em>Button/Switch</em></td><td>Creates a button or a switch. See the
<a href="#button">Button/Switch</a> section</td>
</tr>
<tr>
<td><em>Progress&nbsp;Bar/Slider</em></td><td>Represents a value range by
a bar. If a “Publish Topic” is specified, a new value can be set and sent
using a slider. See the <a href="#slider">Progress&nbsp;Bar/Slider</a> section</td>
</tr>
<tr>
<td><em>Option List</em></td><td>Allows the definition of any set of
values. See the <a href="#optionlist">Option&nbsp;List</a> section</td>
</tr>
<tr>
<td><em>Custom View</em></td><td>Allows creating new dashes in HTML. See
the <a href="#customview">Custom&nbsp;View</a> section</td>
</tr>
<tr>
<td><em>Group</em></td><td>Allows grouping dash tiles.
See the <a href="#groupview">Group</a> section</td>
</tr>
</table>
<h2>Templates for dashes</h2>
<h3 id="textview">Text View</h3>
<img class="thumb_noreplace" src="../img/text_view_thumb.png" height="100">
<p>Represents the content of a message in text form. If a “Publish
Topic” has been specified, a value can be entered and sent in the detail
view.</p>
<ul>
<li>Required elements:<br>
<em><a href="#topic_sub">Topic (sub)</a>, <a href="#input_type">Input Type</a></em></li>
<li>Optional elements:<br>
<em><a href="#name">Name</a>, <a href="#group">Group</a>, <a href="#pos">Pos</a>,
<a href="#color">Color</a>, <a href="#text_size">Text Size</a>,
<a href="#image">Image</a>, <a href="#filter_script">Filter Script</a>,
<a href="#topic_pub">Topic (pub)</a>, <a href="#retain">Retain</a>,
<a href="#script">Script</a></em>
</ul>
<h3 id="button">Button/Switch</h3>
<img class="thumb_noreplace" src="../img/button_switch_thumb.png" height="100">
<p>Generates a button element which works e.g. as a push button which sends a
message upon tapping. For this, the “Off state” fields remains blank. If
the button is created as a switch that changes its state (on/off) depending
on the value of the last received message, a topic must be entered in
“Off state”. This could be used to control an alarm system, for example.
Another example of a dash that switches a light on and off, and informs about
the current switching status at the same time, can be found <a href="#examples">here</a>.</p>
<ul>
<li>Required elements:<br>
<em><a href="#topic_sub">Topic (sub)</a>, <a href="#topic_pub">Topic
(pub)<sup>*</sup></a>, <a href="#value">Value</a></em></li>
<li>Optional elements:<br>
<em><a href="#name">Name</a>, <a href="#group">Group</a>, <a href="#pos">Pos</a>,
<a href="#color">Color</a>, <a href="#text_size">Text Size</a>,
<a href="#image">Image</a>, <a href="#filter_script">Filter Script</a>,
<a href="#retain">Retain</a>,
<a href="#script">Script</a></em></li>
</ul>
<p><small><em>*&nbsp;If used as a switch with status request, otherwise
optional</em></small></p>
<h3 id="slider">Progress Bar/Slider</h3>
<img class="thumb_noreplace" src="../img/slider_thumb.png" height="100">
<p>A value range is represented by a bar, with the bar being colored up
to the current value (like a progress bar). If a “Publish Topic” has
been specified, a new value can be set and sent in the detail view using
a slider.</p>
<ul>
<li>Required elements:<br>
<em><a href="#range">Range</a>, <a href="#topic_sub">Topic (sub)</a>,
<a href="#topic_pub">Topic (pub)<sup>*</sup></a></em></li>
<li>Optional elements:<br>
<em><a href="#name">Name</a>, <a href="#group">Group</a>, <a href="#pos">Pos</a>,
<a href="#color">Color</a>, <a href="#text_size">Text Size</a>,
<a href="#image">Image</a>, <a href="#filter_script">Filter Script</a>,
<a href="#retain">Retain</a>,
<a href="#decimal">Decimal</a>, <a href="#display_percent">Display in percent</a>,
<a href="#script">Script</a></em></li>
</ul>
<p><small><em>*&nbsp;If used as a slider for transmitting values,
otherwise optional</em></small></p>
<h3 id="optionlist">Option List</h3>
<img class="thumb_noreplace" src="../img/lang-option_thumb.png" height="100">&nbsp;&nbsp;
<img class="thumb_noreplace" src="../img/languages_thumb.png" height="100">
<p>Allows the definition of a set of values. A display value can be defined
for each option, which is shown instead of the actual value.</p>
<ul>
<li>Required elements:<br>
<em><a href="#option_list">Option List</a></em></li>
<li>Optional elements:<br>
<em><a href="#name">Name</a>, <a href="#group">Group</a>, <a href="#pos">Pos</a>,
<a href="#color">Color</a>, <a href="#text_size">Text Size</a>,
<a href="#image">Image</a>, <a href="#filter_script">Filter Script</a>,
<a href="#topic_pub">Topic (pub)</a>, <a href="#retain">Retain</a>,
<a href="#script">Script</a></em></li>
</ul>
<h3 id="groupview">Group</h3>
<img class="thumb_noreplace" src="../img/group_thumb.png" height="100">
<p>For a better overview in the dashboard, groups can be created to which
individual dashes can be assigned. These could be, for example, logical
group subdivisions: cellar, ground floor, upper floor, garden house, etc.</p>
<ul>
<li>Required elements:<br>
<em>–</em></li>
<li>Optional elements:<br>
<em><a href="#name">Name</a>, <a href="#pos">Pos</a>, <a href="#color">Color</a>,
<a href="#text_size">Text Size</a></em></li>
</ul>
<div class="note">
<h6>Note:</h6>
<div class="android">
<p>Individual dashes can be grouped or assigned to another group. For
this, tap and hold the desired dash tile (“Long Press”) until the <img
src="../img/checkmark.png" height="16"> symbol appears in the tile.
Then press <img src="../img/edit.png" height="16"> to open the dash
tile editor.
</div>
<div class="apple">
<p>Individual dashes can be grouped or assigned to another group. For
this, tap on <img src="../img/overflow_iOS.png" height="16"> and select <span
class="iOS">Edit Dashboard</span>. Then, tap on the desired tiles (the <img
src="../img/checkmark.png" height="16"> symbol appears in the tile) and press
<img src="../img/edit_iOS.png" height="16"> to open the dash tile editor.
</div>
<br>
<br>
Use “Group” and “Pos” to bring the tile in the desired position.</p>
</div>
<h3 id="customview">Custom View</h3>
<img class="thumb_noreplace" src="../img/custom_view_thumb.png" height="100">
<p>“Custom View” corresponds to a standard browser window, which can be
used to create individual interfaces and operating elements. This allows
you to create any dashes in HTML. The HTML can contain additional JavaScript
code to program dashes with individual logic.
An application programming interface <em>(API)</em> can be used to receive
MQTT messages, query settings and access resources such as imported images (see
<a href="dashboard_scripts.html">Dashboard Scripts</a>).
Alternatively, by tapping the overflow menu <span class="nowrap">(<span
class="android"><img src="../img/overflow_icon.png"
height="16"></span><span class="apple"><img src="../img/overflow_iOS.png"
height="16"></span>)</span> <span class="android">under “Insert Example”</span><span
class="apple">and selecting <span class="iOS">Insert Example</span></span>, you can get seven
different HTML templates <em>(Basic HTML</em>, <em>Color Picker</em>,
<em>Gauge</em>, <em>Clock</em>, <em>Light Switch with Color Picker</em>,
<em>Thermometer</em> and <em>Line Graph)</em> that can be inserted and
edited directly in the dash.<p>
<div class="note">
<h6>Note:</h6>
<p>Advanced knowledge of HTML and JavaScript is required to create a
Custom View. Some examples use HTML5 and may not run on older mobile
devices. In the examples where received message data is processed, the
code must be adapted according to the data structure of the message
content. See <a href="dashboard_scripts.html#customviewHTML">Custom View
HTML</a>.</p>
</div>
<div class="android">
<p><img class="thumb_noreplace" src="../img/custom_view-examples.png" width="250"></p>
</div>
<div class="apple">
<p><img class="thumb_noreplace" src="../img/custom_view-examples_iOS.png" width="250">
</p>
</div>
<ul>
<li>Required elements:<br>
<em><a href="#html">HTML</a></em></li>
<li>Optional elements:<br>
<em><a href="#name">Name</a>, <a href="#group">Group</a>, <a href="#pos">Pos</a>,
<a href="#color">Color</a>,
<a href="#topic_sub">Topic (sub)</a>, <a href="#params">Parameters</a>,
<a href="#historical_data">Provide historical data</a></em></li>
</ul>
<h2 id="configuration_elements">Configuration elements</h2>
<ul>
<li id="name"><em>Name</em><br>
Enter the name of the dash to be created</li>
<li id="group"><em>Group</em><br>
Assign the dash to a group</li>
<li id="pos"><em>Pos</em><br>
Define the position of the dash tile within a group</li>
<li id="value"><em>Value</em><br>
Define a value for the respective switching state
</li>
<li id="color"><em>Color</em><br>
Select a color for the respective configuration context (e.g. foreground,
background, text, progress bar)
</li>
<li id="text_size"><em>Text Size</em><br>
Select the text size (“small”/“medium”/“large”)
</li>
<li id="image"><em>Image</em><br>
Select an image (see <a href="#manage_images">
Import own images into the app</a>)</li>
<li id="topic_sub"><em>Topic (sub)</em><br>
Specify the topic for which you wish to receive messages/values</li>
<li id="filter_script"><em>Filter Script</em><br>
Enter JavaScript based filter scripts, which analyse and format the message
content. In addition, you may dynamically apply styles to the dash,
depending on the values received, e.g. background color, text
size, etc. See <a href="dashboard_scripts.html">Dashboard Scripts</a></li>
<li id="topic_pub"><em>Topic (pub)</em><br>
Specify the topic to which values are to be sent</li>
<li id="retain"><em>Retain</em><br>
Specify that sent messages are retained on the MQTT server. Only the
last message sent per topic is retained</li>
<li id="input_type"><em>Input Type</em><br>
Switch from text to numerical input</li>
<li id="range"><em>Range</em><br>
Define the value range of the progress bar and slider to be displayed</li>
<li id="display_percent"><em>Display in percent</em><br>
Define that a value is displayed in percent (related to the entire value
range)</li>
<li id="decimal"><em>Decimal</em><br>
Define the decimal places of the displayed value</li>
<li id="option_list"><em>Option List</em><br>
Define a display value or an image file for each option, to be
displayed instead of the actual value</li>
<li id="script"><em>Script</em><br>
Enter a script to prepare data to be sent, e.g. in the <em>JSON</em> format.
Depending on the dash, a user action may be required, e.g. by tapping a
button (see section <a href="#button">Button/Switch</a>). A “Topic (pub)”
must have been set for this. You also have the option of making the dash
dynamic (e.g. to display the background color, test size, etc. depending
of published values). See <a href="dashboard_scripts.html">Dashboard Scripts</a></li>
<li id="params"><em>Parameters</em><br>
Specify values that are passed when a dash is initialized, for example,
to change the display depending on this value. Parameters can be queried
via the JavaScript interface (see
<a href="dashboard_scripts.html#getparams"><tt>MQTT.view.getParameters()</tt></a> description)</p>
<li id="html"><em>HTML</em><br>
Enter your own HTML code to design the dash tile. The integration of
JavaScript is also permitted</li>
<li id="historical_data"><em>Provide historical data</em><br>
If this option is activated, up to 100 of the latest messages are retained.
These can be queried via the JavaScript interface (see
<a href="dashboard_scripts.html#gethistoricaldata"><tt>MQTT.view.getHistoticalData()</tt></a>)</li>
</ul>
<h2 id="manage_images">Import own images into the app</h2>
<p>Some dashes allow the integration of images (backgrounds, status of
switches, etc.). In order for your own pictures to be available in the app,
they must first be imported into the app:</p>
<ul class="instruction">
<li>In the “Dashboard” window, select the <span class="android">“Manage Images”</span>
<span class="apple"><span class="iOS">Manage Images</span></span> entry from the overflow
menu <span class="nowrap">(<span class="android"><img src="../img/overflow_icon.png"
height="16"></span><span class="apple"><img src="../img/overflow_iOS.png" height="16"></span>)</span>.</li>
</ul>
<div class="android">
<p><img class="thumb" src="../img/manage_images.png" width="275">
<img class="large" src="../img/manage_images.png"></p>
</div>
<ul class="instruction">
<li>In the “Manage Images” window open the overflow menu <span class="nowrap">(<span
class="android"><img src="../img/overflow_icon.png" height="16"></span><span
class="apple"><img src="../img/overflow_iOS.png" height="16"></span>)</span>
again, tap on <span class="android">“Import”</span><span class="iOS">Import</span>
and select those images that you would like to import into the app.</li>
</ul>
<p>All images that were imported into the app are shown in the “Manage
Images” window:
<div class="android">
<p><img class="thumb" src="../img/import_images.png" width="275">
<img class="large" src="../img/import_images.png"></p>
</div>
<div class="apple">
<p><img class="thumb" src="../img/import_images_iOS.png" width="275">
<img class="large" src="../img/import_images_iOS.png"></p>
</div>
<p>When exiting the app, images that are not used in any dash are deleted.
The same applies to images that are referenced exclusively in the script
code. To prevent this, they can be protected. In the picture above you
can already see two previously imported pictures.
Both are marked with such a protection <span class="nowrap">(<span
class="android"><img src="../img/padlock.png" height="16"></span><span
class="apple"><img src="../img/padlock.png" height="16"></span>)</span>.</p>
<ul class="instruction">
<div class="android">
<li>Tap and hold the desired image file (“Long Press”) until <img src="../img/padlock.png"
height="16"> appears.</li>
</div>
<div class="apple">
<li>Tap on <img src="../img/overflow_iOS.png" height="16">, select <span class="iOS">Edit</span>
and tap on the desired image file.</li>
</div>
</ul>
<p>Those images marked with a <span class="android"><img src="../img/padlock.png"
height="16"></span><span class="apple"><img src="../img/padlock.png"
height="16"></span>, as well as images that have been explicitly selected
as background image or label for the <em>Button/Switch</em> or
<em>Option List</em> dashes, will be retained when the app is restarted.</p>
<div class="note">
<h6>Note on images with transparencies:</h6>
<p>If images containing transparencies are included in the dash via the
“Image” field, these transparencies are preserved.
The following figure shows the comparison between an image <em>with</em>
(left) and one <em>without</em> transparencies (right). Both images are
placed on a yellow background:</p>
<p><img class="thumb" src="../img/transp_flat.png" width="275">
<img class="large" src="../img/transp_flat.png"></p>
<p>Images that are used in buttons can be colorized. Images without
transparency would be colorized completely with the selected color.
The following figure is based on the previous one, but has an additional
red coloration of the foreground:</p>
<p><img class="thumb" src="../img/tinted.png" width="275">
<img class="large" src="../img/tinted.png"></p>
</div>
<h2 id="examples">Examples</h2>
<p>Let's configure a dash, which switches a light on and off and at the same
time informs about the current switching status.</p>
<ul class="instruction">
<li>Select the “Button/Switch” entry from the menu:</li>
</ul>
<div class="android">
<p><img class="thumb" src="../img/edit_button-1-EN.png" width="275">
<img class="large" src="../img/edit_button-1-EN.png"></p>
</div>
<div class="apple">
<p><img class="thumb" src="../img/edit_button-1_iOS.png" width="275">
<img class="large" src="../img/edit_button-1_iOS.png"></p>
</div>
<ul class="instruction">
<li>First of all, specify a name for the dash (in the example above
it is “Switch”).</li>
<li>Specify a unique value (“Value”) for the switching states <em>On</em>
(“On state”) and <em>Off</em> (“Off state”). If necessary, define the
background color for the dash tile itself and the foreground and background
color for the switching states.</li>
</ul>
<p>An image can also be used in addition to a background color:</p>
<ul class="instruction">
<li>Tap on the button located next to “Image”.</li>
</ul>
<p>The “Select an Image” window provides a number of icons and symbols.
Alternatively, you can also use your own images that you have previously
imported into the app (see <a href="#manage_images">Import own images
into the app</a>).</p>
<div class="android">
<p><img class="thumb" src="../img/edit_button-2.png" width="275">
<img class="large" src="../img/edit_button-2.png"></p>
</div>
<div class="apple">
<p><img class="thumb" src="../img/edit_button-2_iOS.png" width="275">
<img class="large" src="../img/edit_button-2_iOS.png"></p>
</div>
<ul class="instruction">
<li>Enter a topic for both reception (<span class="android">“Topic (sub)”</span><span
class="apple">in the “Subscribe” section</span>) and transmission
(<span class="android">“Topic (pub)”</span><span
class="apple">in the “Publish” section</span>).</li>
<li>As soon as you have finished the configuration tap on <span class="android"><img
src="../img/save.png" height="16"></span><span class="apple"><img src="../img/save_iOS.png"
height="16"></span> to save your entries/changes.</li>
</ul>
<p>Only in this way the dash can query the switch status (<span class="android">“Topic (sub)”</span><span
class="apple">in the “Subscribe” section</span>)
from the server and send switch commands to the server (<span class="android">“Topic (pub)”</span><span
class="apple">in the “Publish” section</span>).</p>
</body>
</html>